<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      #canvasId {
        border: 1px solid red;
      }
    </style>
  </head>
  <body>
    <canvas id="canvasId" width="200px" height="200px"></canvas>

    <script>
      /**第一道题开始*/
      const options = [
        {
          value: "zhejiang",
          label: "Zhejiang",
          children: [
            {
              value: "hangzhou",
              label: "Hangzhou",
              children: [
                {
                  value: "xihu",
                  label: "West Lake",
                },
              ],
            },
          ],
        },
        {
          value: "jiangsu",
          label: "Jiangsu",
          children: [
            {
              value: "nanjing",
              label: "Nanjing",
              children: [
                {
                  value: "zhonghuamen",
                  label: "Zhong Hua Men",
                },
              ],
            },
          ],
        },
      ];

      function recursionFn(arr) {
        if (!Array.isArray(arr)) return false;
        for (let i = 0; i < arr.length; i++) {
          const item = arr[i];
          if (item.children && Array.isArray(item.children)) {
            console.log(item.children);
            recursionFn(item.children);
          }
        }
      }
      recursionFn(options);
      /**第一道题结束*/


      /**第二道题开始*/
      const canvas = document.getElementById("canvasId");
      const ctx = canvas.getContext("2d");
      let flag = false;
      let x = null;
      let y = null;

      canvas.addEventListener("mousedown", canvasdown, true);
      canvas.addEventListener("mousemove", canvasMove, false);
      canvas.addEventListener("mouseup", canvasUp, false);

      function canvasdown(event) {
        flag = true;
        x = event.clientX;
        y = event.clientY;
      }

      function canvasMove(event) {
        if (flag === true) {
          let newX = event.clientX;
          let newY = event.clientY;

          ctx.beginPath();
          ctx.moveTo(x, y);
          ctx.lineTo(newX, newY);
          ctx.strokeStyle = "#000";
          ctx.lineWidth = 3;
          ctx.lineCap = "round";
          ctx.stroke();

          x = newX;
          y = newY;
        }
      }

      function canvasUp() {
        flag = false;
      }
      /**第二道题结束*/

      /**第三道题结束*/
      // 性能问题，加上防抖或者节流
    </script>
  </body>
</html>
